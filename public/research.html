<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ”¬ Research Feed</title>
  <style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #0f0f0f;
    color: #fff;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }
  h1 { 
    font-size: 28px; 
    margin-bottom: 8px;
    color: #fff;
  }
  .subtitle {
    color: #aaa;
    font-size: 14px;
    margin-bottom: 30px;
  }
  .sync-status {
    font-size: 12px;
    color: #666;
    margin-bottom: 10px;
  }
  .sync-status.synced { color: #4a4; }
  .sync-status.syncing { color: #aa4; }
  .sync-status.error { color: #a44; }
  .category { margin-bottom: 40px; }
  .category h2 { 
    font-size: 20px; 
    margin-bottom: 16px;
    color: #fff;
    border-bottom: 1px solid #333;
    padding-bottom: 8px;
  }
  .video-card {
    background: #1a1a1a;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 20px;
    transition: opacity 0.3s;
  }
  .video-card.watched {
    opacity: 0.5;
  }
  .video-card.watched .video-title::before {
    content: "âœ“ ";
    color: #4a4;
  }
  .video-header {
    display: flex;
    gap: 16px;
    padding: 16px;
    cursor: pointer;
  }
  .video-header:hover {
    background: #252525;
  }
  .video-card.watched .video-header:hover {
    opacity: 1;
  }
  .thumb-container {
    position: relative;
    flex-shrink: 0;
  }
  .thumb {
    width: 200px;
    height: 112px;
    border-radius: 8px;
    object-fit: cover;
    background: #333;
  }
  .new-badge {
    position: absolute;
    top: 6px;
    left: 6px;
    background: #ff0000;
    color: #fff;
    font-size: 11px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 4px;
  }
  .video-info {
    flex: 1;
    min-width: 0;
  }
  .creator-name {
    font-size: 12px;
    color: #888;
    margin-bottom: 4px;
  }
  .creator-name a {
    color: #aaa;
    text-decoration: none;
  }
  .creator-name a:hover {
    color: #fff;
    text-decoration: underline;
  }
  .duration {
    background: rgba(0,0,0,0.8);
    padding: 2px 4px;
    border-radius: 4px;
    font-size: 12px;
    position: absolute;
    bottom: 6px;
    right: 6px;
  }
  .video-title {
    font-size: 16px;
    font-weight: 500;
    color: #fff;
    line-height: 1.4;
    margin-bottom: 8px;
  }
  .video-meta {
    display: flex;
    gap: 12px;
    font-size: 13px;
    color: #888;
  }
  .video-date {
    color: #aaa;
  }
  .player-container {
    display: none;
    background: #000;
  }
  .player-container.active {
    display: block;
  }
  .player-container iframe {
    width: 100%;
    aspect-ratio: 16/9;
    border: none;
  }
  .controls {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
  }
  .controls button {
    background: #333;
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
  }
  .controls button:hover {
    background: #444;
  }
  .updated {
    text-align: center;
    color: #555;
    font-size: 12px;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid #222;
  }
  @media (max-width: 600px) {
    .video-header { flex-direction: column; }
    .thumb { width: 100%; height: auto; aspect-ratio: 16/9; }
  }
</style>
</head>
<body>
  <h1>ðŸ”¬ Research Feed</h1>
  <p class="subtitle">Curated videos from AI, Finance, and Health creators â€¢ Click to play</p>
  <div id="sync-status" class="sync-status">Loading...</div>
  <div class="controls">
    <button onclick="hideWatched()">Hide Watched</button>
    <button onclick="clearWatched()">Clear History</button>
    <button onclick="loadWatched()">Refresh</button>
  </div>
  <div class="category">
    <h2>AI and Tech</h2>
    <div class="video-card" data-video-id="xdp8bulnidY" onclick="togglePlayer(this, 'xdp8bulnidY')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/xdp8bulnidY/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@mreflow" target="_blank" onclick="event.stopPropagation()">Matt Wolfe</a></div>
          <div class="video-title">AI News: The AI Launch That Crashed The Market</div>
          <div class="video-meta">
            <span class="video-date">3 days ago</span>
            <span>87K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="boP_p-2YoZs" onclick="togglePlayer(this, 'boP_p-2YoZs')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/boP_p-2YoZs/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@matthew_berman" target="_blank" onclick="event.stopPropagation()">Matthew Berman</a></div>
          <div class="video-title">OpenAI&#39;s New Device was LEAKED (Dime)</div>
          <div class="video-meta">
            <span class="video-date">18 hours ago</span>
            <span>25K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
  </div>
  <div class="category">
    <h2>News and Finance</h2>
    <div class="video-card" data-video-id="DiZTxRpWNk0" onclick="togglePlayer(this, 'DiZTxRpWNk0')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/DiZTxRpWNk0/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@clauskellermanpov3004" target="_blank" onclick="event.stopPropagation()">Claus Kellerman POV</a></div>
          <div class="video-title">USA LAUNCHES MOST IGNORANT EXTORTION THREAT ON CANADA</div>
          <div class="video-meta">
            <span class="video-date">6 hours ago</span>
            <span>45K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="oEQowHRmVe8" onclick="togglePlayer(this, 'oEQowHRmVe8')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/oEQowHRmVe8/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@russellmatthews" target="_blank" onclick="event.stopPropagation()">Russell Matthews</a></div>
          <div class="video-title">EXPOSED: Canada Police Tied to Criminal Gangs, Blackmail, Drugs</div>
          <div class="video-meta">
            <span class="video-date">4 days ago</span>
            <span>25K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="4U6SLPu4728" onclick="togglePlayer(this, '4U6SLPu4728')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/4U6SLPu4728/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@MortgageBrokerLondonOntario" target="_blank" onclick="event.stopPropagation()">Mark Mitchell</a></div>
          <div class="video-title">No More Rate Cuts?</div>
          <div class="video-meta">
            <span class="video-date">1 day ago</span>
            <span>12K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="d7wnAw7ufG4" onclick="togglePlayer(this, 'd7wnAw7ufG4')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/d7wnAw7ufG4/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@BenFelixCSI" target="_blank" onclick="event.stopPropagation()">Ben Felix</a></div>
          <div class="video-title">The Biggest Mistakes in Personal Finance</div>
          <div class="video-meta">
            <span class="video-date">2 days ago</span>
            <span>166K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
  </div>
  <div class="category">
    <h2>Health</h2>
    <div class="video-card" data-video-id="QvhKvX5e-S8" onclick="togglePlayer(this, 'QvhKvX5e-S8')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/QvhKvX5e-S8/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@DrAlexGeorge" target="_blank" onclick="event.stopPropagation()">Doctor Alex</a></div>
          <div class="video-title">I Quit Alcohol For 1000 Days But Didnâ€™t Expect This</div>
          <div class="video-meta">
            <span class="video-date">2 days ago</span>
            <span>4.6K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="rEE7yamHeoo" onclick="togglePlayer(this, 'rEE7yamHeoo')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/rEE7yamHeoo/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@NutritionMadeSimple" target="_blank" onclick="event.stopPropagation()">Nutrition Made Simple!</a></div>
          <div class="video-title">7 Surprising Foods that Help Fight CANCER</div>
          <div class="video-meta">
            <span class="video-date">2 hours ago</span>
            <span>2.8K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
    <div class="video-card" data-video-id="s05mUXTcKCg" onclick="togglePlayer(this, 's05mUXTcKCg')">
      <div class="video-header">
        <div class="thumb-container">
          <img class="thumb" src="https://i.ytimg.com/vi/s05mUXTcKCg/hqdefault.jpg" alt="" loading="lazy">
          <span class="new-badge">NEW</span>
          
        </div>
        <div class="video-info">
          <div class="creator-name"><a href="https://www.youtube.com/@nicknorwitzMDPhD" target="_blank" onclick="event.stopPropagation()">Nick Norwitz</a></div>
          <div class="video-title">Does the Worldâ€™s Most Profitable Drug Damage Muscle?</div>
          <div class="video-meta">
            <span class="video-date">1 day ago</span>
            <span>23K views</span>
          </div>
        </div>
      </div>
      <div class="player-container"></div>
    </div>
  </div>
  <div class="updated">Last updated: Feb 10, 2026, 12:42 PM PST</div>
  <script>
  const BLOB_URL = 'https://jsonblob.com/api/jsonBlob/019c48c6-b141-7c1f-a893-5de4c2335f8e';
  let watchedData = {};
  let syncTimeout = null;
  
  async function loadWatched() {
    setStatus('syncing', 'Loading...');
    try {
      const res = await fetch(BLOB_URL);
      const data = await res.json();
      watchedData = data.watched || {};
      updateWatchedUI();
      setStatus('synced', 'Synced âœ“');
    } catch (e) {
      console.error('Load failed:', e);
      setStatus('error', 'Sync failed');
      // Fall back to localStorage
      try {
        watchedData = JSON.parse(localStorage.getItem('yt-watched') || '{}');
        updateWatchedUI();
      } catch {}
    }
  }
  
  async function saveWatched() {
    setStatus('syncing', 'Saving...');
    try {
      await fetch(BLOB_URL, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ watched: watchedData })
      });
      // Also save to localStorage as backup
      localStorage.setItem('yt-watched', JSON.stringify(watchedData));
      setStatus('synced', 'Synced âœ“');
    } catch (e) {
      console.error('Save failed:', e);
      setStatus('error', 'Sync failed');
    }
  }
  
  function debouncedSave() {
    clearTimeout(syncTimeout);
    syncTimeout = setTimeout(saveWatched, 500);
  }
  
  function setStatus(cls, text) {
    const el = document.getElementById('sync-status');
    if (el) {
      el.className = 'sync-status ' + cls;
      el.textContent = text;
    }
  }
  
  function setWatched(videoId) {
    watchedData[videoId] = Date.now();
    debouncedSave();
  }
  
  function isWatched(videoId) {
    return !!watchedData[videoId];
  }
  
  function updateWatchedUI() {
    document.querySelectorAll('.video-card').forEach(card => {
      const videoId = card.dataset.videoId;
      if (isWatched(videoId)) {
        card.classList.add('watched');
      } else {
        card.classList.remove('watched');
      }
    });
  }
  
  function togglePlayer(card, videoId) {
    const container = card.querySelector('.player-container');
    const isActive = container.classList.contains('active');
    
    // Close all other players
    document.querySelectorAll('.player-container.active').forEach(p => {
      p.classList.remove('active');
      p.innerHTML = '';
    });
    
    if (!isActive) {
      container.innerHTML = '<iframe src="https://www.youtube.com/embed/' + videoId + '?autoplay=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>';
      container.classList.add('active');
      
      // Mark as watched
      setWatched(videoId);
      card.classList.add('watched');
    }
  }
  
  async function clearWatched() {
    if (confirm('Clear all watched markers across all devices?')) {
      watchedData = {};
      await saveWatched();
      updateWatchedUI();
    }
  }
  
  function hideWatched() {
    const hidden = document.body.classList.toggle('hide-watched');
    document.querySelectorAll('.video-card.watched').forEach(card => {
      card.style.display = hidden ? 'none' : 'block';
    });
  }
  
  // Initialize on load
  document.addEventListener('DOMContentLoaded', loadWatched);
</script>
</body>
</html>